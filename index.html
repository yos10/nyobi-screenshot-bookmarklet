<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>N予備校の授業動画のスクリーンショットを撮ることができるブックマークレット</title>
</head>
<body>
  <h1>N予備校の授業動画のスクリーンショットを撮ることができるブックマークレット</h1>
  <p>
    以下のリンクをブラウザのブックマークバーにドラッグ・アンド・ドロップすると、ブックマークが追加されます。
  </p>
  <a href="javascript:(() => {
    const video = document.querySelector('video');
    const videoWidth = video.videoWidth;
    const videoHeight = video.videoHeight;
    const canvas = document.createElement('canvas');
    canvas.width = videoWidth;
    canvas.height = videoHeight;
    const ctx = canvas.getContext('2d');
    ctx.drawImage(video, 0, 0, videoWidth, videoHeight);
    const title = document.querySelector('h2').innerText;
    const videoTime = document.querySelector('time').textContent.split(':');
    const formattedVideoTime = `${videoTime[0]}%E6%99%82${videoTime[1]}%E5%88%86${videoTime[2]}%E7%A7%92`;
    const fileName = `${title}-${formattedVideoTime}.jpg`;
    const a = document.createElement('a');
    a.href = canvas.toDataURL('image/jpeg', 0.9);
    a.download = fileName;
    a.click();
  })();
  ">授業動画のスクリーンショットのブックマークレット</a>
  <p>
    ブックマークを追加後、わかりやすいように名前を変更してください。
  </p>
  <p>
    追加されたブックマークを授業動画のページでクリックするとスクリーンショットが保存されます。
  </p>
  <p>
    一部対応していない授業動画のページがあります。(例: <a href="https://www.nnn.ed.nico/courses/674/chapters/9561">【解説動画】みんなで「動詞辞書」を完成させよう！</a>)
  </p>
  <p>
    ソースコードは<a href="https://github.com/yos10/nyobi-screenshot-bookmarklet">こちら</a>
  </p>
</body>
</html>